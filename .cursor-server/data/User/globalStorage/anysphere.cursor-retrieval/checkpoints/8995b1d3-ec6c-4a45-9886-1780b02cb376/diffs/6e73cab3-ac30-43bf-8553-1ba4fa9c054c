{"fsPath":"\\home\\oxetech_mcz\\lib\\course-normalizer.ts","fileUuid":"6e73cab3-ac30-43bf-8553-1ba4fa9c054c","fileSizeBytes":6805,"numLines":153,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":154,"addedLines":["/**"," * Normalizador e Categorizador de Cursos"," * "," * Este módulo padroniza os nomes dos cursos e os categoriza para análise mais precisa"," */","","export interface CursoNormalizado {","  nomeOriginal: string","  nomeNormalizado: string","  categoria: string","  subcategoria?: string","}","","// Mapeamento de padrões para normalização","const padroesNormalizacao: Array<{","  pattern: RegExp","  normalizado: string","  categoria: string","  subcategoria?: string","}> = [","  // Programação e Desenvolvimento","  { pattern: /javascript|js|node/i, normalizado: 'JavaScript/Node.js', categoria: 'Programação', subcategoria: 'Frontend' },","  { pattern: /react|reactjs/i, normalizado: 'React', categoria: 'Programação', subcategoria: 'Frontend' },","  { pattern: /python|django|flask/i, normalizado: 'Python', categoria: 'Programação', subcategoria: 'Backend' },","  { pattern: /java|spring/i, normalizado: 'Java', categoria: 'Programação', subcategoria: 'Backend' },","  { pattern: /html|css|web design/i, normalizado: 'HTML/CSS/Web Design', categoria: 'Programação', subcategoria: 'Frontend' },","  { pattern: /php|laravel/i, normalizado: 'PHP', categoria: 'Programação', subcategoria: 'Backend' },","  { pattern: /c#|\\.net|dotnet/i, normalizado: 'C#/.NET', categoria: 'Programação', subcategoria: 'Backend' },","  { pattern: /ruby|rails/i, normalizado: 'Ruby/Rails', categoria: 'Programação', subcategoria: 'Backend' },","  { pattern: /go|golang/i, normalizado: 'Go', categoria: 'Programação', subcategoria: 'Backend' },","  { pattern: /mobile|android|ios|flutter|react native/i, normalizado: 'Mobile', categoria: 'Programação', subcategoria: 'Mobile' },","  { pattern: /full.?stack|fullstack/i, normalizado: 'Full Stack', categoria: 'Programação', subcategoria: 'Full Stack' },","  ","  // Banco de Dados","  { pattern: /sql|mysql|postgresql|database|banco de dados/i, normalizado: 'Banco de Dados/SQL', categoria: 'Banco de Dados' },","  { pattern: /mongodb|nosql/i, normalizado: 'MongoDB/NoSQL', categoria: 'Banco de Dados' },","  ","  // DevOps e Infraestrutura","  { pattern: /devops|docker|kubernetes|ci\\/cd/i, normalizado: 'DevOps', categoria: 'Infraestrutura', subcategoria: 'DevOps' },","  { pattern: /cloud|aws|azure|gcp/i, normalizado: 'Cloud Computing', categoria: 'Infraestrutura', subcategoria: 'Cloud' },","  { pattern: /linux|sysadmin|redes/i, normalizado: 'Linux/Redes', categoria: 'Infraestrutura', subcategoria: 'Sistemas' },","  ","  // Design e UX/UI","  { pattern: /design|ui|ux|figma|adobe/i, normalizado: 'Design/UX/UI', categoria: 'Design' },","  { pattern: /photoshop|illustrator|indesign/i, normalizado: 'Adobe Creative Suite', categoria: 'Design', subcategoria: 'Design Gráfico' },","  ","  // Marketing Digital","  { pattern: /marketing digital|seo|sem|redes sociais|social media/i, normalizado: 'Marketing Digital', categoria: 'Marketing' },","  { pattern: /google ads|facebook ads|anúncios/i, normalizado: 'Marketing Pago', categoria: 'Marketing', subcategoria: 'Publicidade' },","  { pattern: /content marketing|conteúdo/i, normalizado: 'Marketing de Conteúdo', categoria: 'Marketing', subcategoria: 'Conteúdo' },","  ","  // Análise de Dados","  { pattern: /data science|ciência de dados|python.*data|machine learning|ml|ia|inteligência artificial/i, normalizado: 'Data Science/IA', categoria: 'Análise de Dados', subcategoria: 'IA/ML' },","  { pattern: /excel|power bi|tableau|analytics|análise/i, normalizado: 'Análise de Dados/Business Intelligence', categoria: 'Análise de Dados', subcategoria: 'BI' },","  ","  // Empreendedorismo e Negócios","  { pattern: /empreendedorismo|startup|negócios|business/i, normalizado: 'Empreendedorismo', categoria: 'Negócios' },","  { pattern: /gestão|management|administração/i, normalizado: 'Gestão', categoria: 'Negócios', subcategoria: 'Administração' },","  ","  // E-commerce","  { pattern: /e.?commerce|vendas online|shopify|woocommerce/i, normalizado: 'E-commerce', categoria: 'Comércio Digital' },","  ","  // Segurança","  { pattern: /cybersecurity|segurança|hacking|ethical hack/i, normalizado: 'Cybersecurity', categoria: 'Segurança' },","  ","  // Game Development","  { pattern: /games|unity|unreal|desenvolvimento de jogos/i, normalizado: 'Desenvolvimento de Jogos', categoria: 'Game Development' },","]","","export function normalizarCurso(nomeOriginal: string): CursoNormalizado {","  // Limpar espaços extras e caracteres especiais","  const nomeLimpo = nomeOriginal.trim().replace(/\\s+/g, ' ')","  ","  // Procurar padrão correspondente","  for (const padrao of padroesNormalizacao) {","    if (padrao.pattern.test(nomeLimpo)) {","      return {","        nomeOriginal: nomeOriginal,","        nomeNormalizado: padrao.normalizado,","        categoria: padrao.categoria,","        subcategoria: padrao.subcategoria,","      }","    }","  }","  ","  // Se não encontrar padrão, retornar normalizado (primeira letra maiúscula)","  const palavras = nomeLimpo.toLowerCase().split(' ')","  const nomeCapitalizado = palavras","    .map(palavra => palavra.charAt(0).toUpperCase() + palavra.slice(1))","    .join(' ')","  ","  return {","    nomeOriginal: nomeOriginal,","    nomeNormalizado: nomeCapitalizado,","    categoria: 'Outros',","  }","}","","export function categorizarCursos(","  cursos: Array<{ curso: string; total: number }>","): {","  cursosNormalizados: Array<CursoNormalizado & { total: number }>","  porCategoria: Record<string, { total: number; cursos: string[] }>","  porSubcategoria: Record<string, { total: number; cursos: string[] }>","} {","  const cursosNormalizados: Array<CursoNormalizado & { total: number }> = []","  const porCategoria: Record<string, { total: number; cursos: string[] }> = {}","  const porSubcategoria: Record<string, { total: number; cursos: string[] }> = {}","  ","  cursos.forEach(({ curso, total }) => {","    const normalizado = normalizarCurso(curso)","    ","    cursosNormalizados.push({","      ...normalizado,","      total,","    })","    ","    // Agrupar por categoria","    if (!porCategoria[normalizado.categoria]) {","      porCategoria[normalizado.categoria] = {","        total: 0,","        cursos: [],","      }","    }","    porCategoria[normalizado.categoria].total += total","    if (!porCategoria[normalizado.categoria].cursos.includes(normalizado.nomeNormalizado)) {","      porCategoria[normalizado.categoria].cursos.push(normalizado.nomeNormalizado)","    }","    ","    // Agrupar por subcategoria se existir","    if (normalizado.subcategoria) {","      const key = `${normalizado.categoria} - ${normalizado.subcategoria}`","      if (!porSubcategoria[key]) {","        porSubcategoria[key] = {","          total: 0,","          cursos: [],","        }","      }","      porSubcategoria[key].total += total","      if (!porSubcategoria[key].cursos.includes(normalizado.nomeNormalizado)) {","        porSubcategoria[key].cursos.push(normalizado.nomeNormalizado)","      }","    }","  })","  ","  return {","    cursosNormalizados: cursosNormalizados.sort((a, b) => b.total - a.total),","    porCategoria,","    porSubcategoria,","  }","}","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000005,1000012,1000013,1000014,1000015,1000009,1000010,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000029,1000033,1000034,1000035,1000036,1000029,1000037,1000038,1000039,1000029,1000040,1000041,1000042,1000043,1000029,1000044,1000045,1000046,1000029,1000047,1000048,1000049,1000029,1000050,1000051,1000029,1000052,1000053,1000029,1000054,1000055,1000056,1000005,1000057,1000058,1000059,1000029,1000060,1000061,1000062,1000063,1000064,1000065,1000066,1000067,1000068,1000069,1000070,1000029,1000071,1000072,1000073,1000074,1000075,1000029,1000076,1000077,1000078,1000079,1000070,1000011,1000005,1000080,1000081,1000082,1000083,1000084,1000085,1000086,1000087,1000088,1000089,1000029,1000090,1000091,1000092,1000093,1000094,1000095,1000096,1000092,1000097,1000098,1000099,1000100,1000101,1000068,1000069,1000102,1000103,1000104,1000069,1000092,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1000112,1000068,1000113,1000114,1000115,1000068,1000069,1000116,1000029,1000076,1000117,1000118,1000119,1000070,1000011,1000005,1000005]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}
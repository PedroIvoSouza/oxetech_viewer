{"fsPath":"\\home\\oxetech_mcz\\app\\api\\certificados\\route.ts","fileUuid":"a1a833d6-5ef8-4c56-91f1-05c2cc2863bb","fileSizeBytes":8448,"numLines":282,"diffChanges":[{"originalStartLineNumberOneIndexed":129,"originalEndLineNumberExclusiveOneIndexed":131,"modifiedStartLineNumberOneIndexed":129,"modifiedEndLineNumberExclusiveOneIndexed":132,"addedLines":["    // LAB: Alunos certificados (status TWO = APROVADO na tabela matriculas)","    // CORRIGIDO: Certificados Lab vêm da tabela matriculas (status TWO = APROVADO)","    const matriculasCertificadasLab = await prisma.matriculas.findMany({"],"tokenizedAddedLines":[1000186,1000187,1000188]},{"originalStartLineNumberOneIndexed":132,"originalEndLineNumberExclusiveOneIndexed":133,"modifiedStartLineNumberOneIndexed":133,"modifiedEndLineNumberExclusiveOneIndexed":134,"addedLines":["        status: 'TWO', // APROVADO = Certificado"],"tokenizedAddedLines":[1000189]},{"originalStartLineNumberOneIndexed":137,"originalEndLineNumberExclusiveOneIndexed":137,"modifiedStartLineNumberOneIndexed":138,"modifiedEndLineNumberExclusiveOneIndexed":142,"addedLines":["        updated_at: true,","        media: true,","        percentual_faltas: true,","        certificado_id: true,"],"tokenizedAddedLines":[1000190,1000191,1000192,1000193]},{"originalStartLineNumberOneIndexed":159,"originalEndLineNumberExclusiveOneIndexed":165,"modifiedStartLineNumberOneIndexed":164,"modifiedEndLineNumberExclusiveOneIndexed":170,"addedLines":["    const alunosCertificadosLab = matriculasCertificadasLab.map((m) => ({","      id: m.aluno_id,","      aluno: m.alunos?.name || 'Sem nome',","      email: m.alunos?.email || '',","      telefone: m.alunos?.telefone || '',","      municipio: normalizarNomeMunicipio(m.alunos?.municipio || ''),"],"tokenizedAddedLines":[1000194,1000195,60,61,62,63]},{"originalStartLineNumberOneIndexed":166,"originalEndLineNumberExclusiveOneIndexed":168,"modifiedStartLineNumberOneIndexed":171,"modifiedEndLineNumberExclusiveOneIndexed":173,"addedLines":["      certificacao: m.updated_at || new Date(),","      detalhes: `Curso: ${m.turmas?.titulo || 'N/A'} | Laboratório: ${m.turmas?.laboratorios?.nome || 'N/A'}${m.media ? ` | Média: ${m.media.toFixed(1)}` : ''}${m.certificado_id ? ' | Certificado gerado' : ''}`,"],"tokenizedAddedLines":[1000196,1000197]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}
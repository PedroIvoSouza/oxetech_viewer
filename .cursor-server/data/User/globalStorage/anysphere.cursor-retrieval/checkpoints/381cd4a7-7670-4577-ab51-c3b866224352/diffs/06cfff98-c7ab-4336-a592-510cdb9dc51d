{"fsPath":"\\home\\oxetech_mcz\\app\\(dashboard)\\edu\\page.tsx","fileUuid":"06cfff98-c7ab-4336-a592-510cdb9dc51d","fileSizeBytes":4196,"numLines":142,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":143,"addedLines":["'use client'","","import { useEduData } from '@/lib/queries/edu'","import { KPICard } from '@/components/dashboard/kpi-card'","import { BarChart } from '@/components/charts/bar-chart'","import { PieChart } from '@/components/charts/pie-chart'","import { Skeleton } from '@/components/ui/skeleton'","import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'","import { GraduationCap, School, BookOpen, Users } from 'lucide-react'","import { formatNumber, formatPercent } from '@/lib/formatters'","","export default function EduPage() {","  const { data, isLoading, error } = useEduData()","","  if (isLoading) {","    return (","      <div className=\"space-y-6\">","        <div className=\"grid gap-4 md:grid-cols-3\">","          {Array.from({ length: 3 }).map((_, i) => (","            <Skeleton key={i} className=\"h-32\" />","          ))}","        </div>","        <Skeleton className=\"h-96\" />","      </div>","    )","  }","","  if (error) {","    return (","      <div className=\"flex h-96 items-center justify-center\">","        <p className=\"text-destructive\">Erro ao carregar dados: {error.message}</p>","      </div>","    )","  }","","  if (!data) {","    return null","  }","","  const {","    frequenciaPorEscola,","    matriculasPorCurso,","    stats,","    matriculasPorStatus,","  } = data","","  return (","    <div className=\"space-y-6\">","      <div>","        <h1 className=\"text-3xl font-bold\">OxeTech Edu</h1>","        <p className=\"text-muted-foreground\">","          Dashboard do programa OxeTech Edu","        </p>","      </div>","","      {/* KPIs */}","      <div className=\"grid gap-4 md:grid-cols-3\">","        <KPICard","          title=\"Escolas\"","          value={formatNumber(stats.totalEscolas)}","          icon={School}","        />","        <KPICard","          title=\"Matrículas\"","          value={formatNumber(stats.totalMatriculas)}","          icon={GraduationCap}","        />","        <KPICard","          title=\"Turmas\"","          value={formatNumber(stats.totalTurmas)}","          icon={BookOpen}","        />","      </div>","","      {/* Gráficos */}","      <div className=\"grid gap-6 md:grid-cols-2\">","        {frequenciaPorEscola.length > 0 && (","          <BarChart","            title=\"Frequência por Escola\"","            description=\"Percentual de frequência por escola\"","            data={frequenciaPorEscola}","            xKey=\"escola\"","            yKeys={[","              {","                key: 'frequencia',","                name: 'Frequência (%)',","                color: '#8884d8',","              },","            ]}","          />","        )}","        {matriculasPorStatus.length > 0 && (","          <PieChart","            title=\"Matrículas por Status\"","            description=\"Distribuição de matrículas por status\"","            data={matriculasPorStatus.map((item) => ({","              name: item.status,","              value: item.total,","            }))}","          />","        )}","      </div>","","      {/* Tabela de Frequência */}","      {frequenciaPorEscola.length > 0 && (","        <Card>","          <CardHeader>","            <CardTitle>Frequência por Escola</CardTitle>","          </CardHeader>","          <CardContent>","            <div className=\"overflow-x-auto\">","              <table className=\"w-full\">","                <thead>","                  <tr className=\"border-b\">","                    <th className=\"text-left p-2\">Escola</th>","                    <th className=\"text-right p-2\">Frequência</th>","                    <th className=\"text-right p-2\">Presenças</th>","                    <th className=\"text-right p-2\">Total de Aulas</th>","                  </tr>","                </thead>","                <tbody>","                  {frequenciaPorEscola.map((item, index) => (","                    <tr key={index} className=\"border-b\">","                      <td className=\"p-2\">{item.escola}</td>","                      <td className=\"p-2 text-right font-medium\">","                        {formatPercent(item.frequencia)}","                      </td>","                      <td className=\"p-2 text-right\">{item.totalPresencas}</td>","                      <td className=\"p-2 text-right\">{item.totalAulas}</td>","                    </tr>","                  ))}","                </tbody>","              </table>","            </div>","          </CardContent>","        </Card>","      )}","    </div>","  )","}","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1000009,1000001,1000010,1000011,1000001,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000001,1000024,1000013,1000025,1000026,1000021,1000022,1000023,1000001,1000027,1000028,1000023,1000001,1000029,1000030,1000031,1000032,1000033,1000034,1000001,1000035,1000036,1000037,1000038,1000039,1000040,1000041,1000021,1000001,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1000044,1000049,1000050,1000051,1000048,1000044,1000052,1000053,1000054,1000048,1000021,1000001,1000055,1000056,1000057,1000058,1000059,1000060,1000061,1000062,1000063,1000064,1000065,1000066,1000067,1000068,1000069,1000070,1000071,1000072,1000073,1000074,1000075,1000076,1000077,1000078,1000079,1000070,1000071,1000021,1000001,1000080,1000081,1000082,1000083,1000084,1000085,1000086,1000087,1000088,1000089,1000090,1000091,1000092,1000093,1000094,1000095,1000096,1000097,1000098,1000099,1000100,1000101,1000102,1000103,1000104,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1000112,1000113,1000114,1000115,1000116,1000001,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}
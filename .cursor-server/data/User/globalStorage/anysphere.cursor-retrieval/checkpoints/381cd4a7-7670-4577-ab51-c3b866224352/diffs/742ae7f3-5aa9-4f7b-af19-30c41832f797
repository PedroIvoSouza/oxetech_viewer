{"fsPath":"\\home\\oxetech_mcz\\app\\(dashboard)\\work\\page.tsx","fileUuid":"742ae7f3-5aa9-4f7b-af19-30c41832f797","fileSizeBytes":4458,"numLines":144,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":145,"addedLines":["'use client'","","import { useWorkData } from '@/lib/queries/work'","import { KPICard } from '@/components/dashboard/kpi-card'","import { BarChart } from '@/components/charts/bar-chart'","import { PieChart } from '@/components/charts/pie-chart'","import { Skeleton } from '@/components/ui/skeleton'","import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'","import { Briefcase, Building2, FileText, CheckCircle } from 'lucide-react'","import { formatNumber } from '@/lib/formatters'","","export default function WorkPage() {","  const { data, isLoading, error } = useWorkData()","","  if (isLoading) {","    return (","      <div className=\"space-y-6\">","        <div className=\"grid gap-4 md:grid-cols-4\">","          {Array.from({ length: 4 }).map((_, i) => (","            <Skeleton key={i} className=\"h-32\" />","          ))}","        </div>","        <Skeleton className=\"h-96\" />","      </div>","    )","  }","","  if (error) {","    return (","      <div className=\"flex h-96 items-center justify-center\">","        <p className=\"text-destructive\">Erro ao carregar dados: {error.message}</p>","      </div>","    )","  }","","  if (!data) {","    return null","  }","","  const { stats, funilPorEdital, empresas, vagasPorStatus } = data","","  return (","    <div className=\"space-y-6\">","      <div>","        <h1 className=\"text-3xl font-bold\">OxeTech Work</h1>","        <p className=\"text-muted-foreground\">","          Dashboard do programa OxeTech Work","        </p>","      </div>","","      {/* KPIs */}","      <div className=\"grid gap-4 md:grid-cols-4\">","        <KPICard","          title=\"Vagas\"","          value={formatNumber(stats.vagas)}","          icon={Briefcase}","        />","        <KPICard","          title=\"Empresas\"","          value={formatNumber(stats.empresas)}","          icon={Building2}","        />","        <KPICard","          title=\"Candidaturas\"","          value={formatNumber(stats.candidaturas)}","          icon={FileText}","        />","        <KPICard","          title=\"Contratações\"","          value={formatNumber(stats.contratacoes)}","          icon={CheckCircle}","        />","      </div>","","      {/* Gráficos */}","      <div className=\"grid gap-6 md:grid-cols-2\">","        {vagasPorStatus.length > 0 && (","          <PieChart","            title=\"Vagas por Status\"","            description=\"Distribuição de vagas por status\"","            data={vagasPorStatus.map((item) => ({","              name: item.status,","              value: item.total,","            }))}","          />","        )}","        {funilPorEdital.length > 0 && (","          <BarChart","            title=\"Funil por Edital\"","            description=\"Inscrições, candidaturas e contratações por edital\"","            data={funilPorEdital}","            xKey=\"edital\"","            yKeys={[","              { key: 'inscricoes', name: 'Inscrições', color: '#8884d8' },","              { key: 'candidaturas', name: 'Candidaturas', color: '#82ca9d' },","              { key: 'contratacoes', name: 'Contratações', color: '#ffc658' },","            ]}","          />","        )}","      </div>","","      {/* Tabela de Empresas */}","      <Card>","        <CardHeader>","          <CardTitle>Empresas com KPIs</CardTitle>","        </CardHeader>","        <CardContent>","          <div className=\"overflow-x-auto\">","            <table className=\"w-full\">","              <thead>","                <tr className=\"border-b\">","                  <th className=\"text-left p-2\">Empresa</th>","                  <th className=\"text-left p-2\">Email</th>","                  <th className=\"text-right p-2\">Vagas</th>","                  <th className=\"text-right p-2\">Candidaturas</th>","                  <th className=\"text-right p-2\">Inscrições</th>","                </tr>","              </thead>","              <tbody>","                {empresas.slice(0, 20).map((empresa) => (","                  <tr key={empresa.id} className=\"border-b\">","                    <td className=\"p-2\">{empresa.razao_social}</td>","                    <td className=\"p-2 text-muted-foreground\">","                      {empresa.email}","                    </td>","                    <td className=\"p-2 text-right\">{empresa.totalVagas}</td>","                    <td className=\"p-2 text-right\">","                      {empresa.totalCandidaturas}","                    </td>","                    <td className=\"p-2 text-right\">","                      {empresa.totalInscricoes}","                    </td>","                  </tr>","                ))}","              </tbody>","            </table>","          </div>","        </CardContent>","      </Card>","    </div>","  )","}","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1000009,1000001,1000010,1000011,1000001,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000001,1000024,1000013,1000025,1000026,1000021,1000022,1000023,1000001,1000027,1000028,1000023,1000001,1000029,1000001,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000021,1000001,1000037,1000038,1000039,1000040,1000041,1000042,1000043,1000039,1000044,1000045,1000046,1000043,1000039,1000047,1000048,1000049,1000043,1000039,1000050,1000051,1000052,1000043,1000021,1000001,1000053,1000054,1000055,1000056,1000057,1000058,1000059,1000060,1000061,1000062,1000063,1000064,1000065,1000066,1000067,1000068,1000069,1000070,1000071,1000072,1000073,1000074,1000075,1000063,1000064,1000021,1000001,1000076,1000077,1000078,1000079,1000080,1000081,1000082,1000083,1000084,1000085,1000086,1000087,1000088,1000089,1000090,1000091,1000092,1000093,1000094,1000095,1000096,1000097,1000098,1000099,1000100,1000101,1000102,1000099,1000101,1000103,1000099,1000104,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1000112,1000113,1000001,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}
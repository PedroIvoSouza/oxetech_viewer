{"fsPath":"\\home\\oxetech_mcz\\lib\\queries\\bi-lab.ts","fileUuid":"067b85ae-d2e8-4883-a48d-2b3b80c64ee1","fileSizeBytes":1119,"numLines":40,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":41,"addedLines":["/**"," * React Query hooks para Análise Detalhada do Lab"," */","","import { useQuery } from '@tanstack/react-query'","import type { AnaliseDetalhadaLab } from '@/lib/bi/lab-analysis'","","// ============================================","// ANÁLISE DETALHADA LAB","// ============================================","","interface LabDetalhadoResponse {","  data: AnaliseDetalhadaLab","  error: string | null","}","","async function fetchLabDetalhado(): Promise<AnaliseDetalhadaLab> {","  const response = await fetch('/api/bi/lab-detalhado', {","    credentials: 'include',","  })","  const json: LabDetalhadoResponse = await response.json()","  if (!response.ok || json.error) {","    throw new Error(json.error || 'Erro ao buscar análise detalhada do Lab')","  }","  return json.data","}","","export function useLabDetalhado() {","  return useQuery<AnaliseDetalhadaLab, Error>({","    queryKey: ['bi', 'lab-detalhado'],","    queryFn: fetchLabDetalhado,","    staleTime: 10 * 60 * 1000, // 10 minutos","    gcTime: 30 * 60 * 1000, // 30 minutos","    refetchInterval: 15 * 60 * 1000, // Refetch a cada 15 minutos","    refetchOnWindowFocus: false,","    refetchOnReconnect: true,","  })","}","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000005,1000003,1000006,1000007,1000006,1000003,1000008,1000009,1000010,1000011,1000003,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000011,1000003,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000015,1000011,1000003,1000003]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}
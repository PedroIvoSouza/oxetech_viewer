{"fsPath":"\\home\\oxetech_mcz\\components\\charts\\funnel-chart.tsx","fileUuid":"b8371fad-45af-4e5c-861a-68dfe27e5ad0","fileSizeBytes":4104,"numLines":144,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":145,"addedLines":["'use client'","","import {","  BarChart as RechartsBarChart,","  Bar,","  XAxis,","  YAxis,","  Tooltip,","  ResponsiveContainer,","  Cell,","} from 'recharts'","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'","import { motion } from 'framer-motion'","import { ModuleType, getModuleColor } from '@/lib/design-system'","import { cn } from '@/lib/utils'","","interface FunnelChartProps {","  data: Array<{","    name: string","    value: number","  }>","  title?: string","  description?: string","  module?: ModuleType","  className?: string","  height?: number","}","","export function FunnelChart({","  data,","  title,","  description,","  module,","  className,","  height = 350,","}: FunnelChartProps) {","  const modulePrimary = module ? getModuleColor(module, 'primary') : undefined","  const maxValue = Math.max(...data.map((d) => d.value))","","  // Preparar dados para o funil (cada barra tem largura proporcional ao valor)","  const funnelData = data.map((item, index) => ({","    name: item.name,","    value: item.value,","    width: (item.value / maxValue) * 100,","  }))","","  return (","    <motion.div","      initial={{ opacity: 0, y: 20 }}","      animate={{ opacity: 1, y: 0 }}","      transition={{ duration: 0.5 }}","    >","      <Card","        className={cn(","          'border-0 shadow-soft overflow-hidden transition-all duration-300 hover:shadow-medium',","          className","        )}","        style={{ borderRadius: '22px' }}","      >","        {(title || description) && (","          <CardHeader className=\"pb-4\">","            {title && (","              <CardTitle className=\"text-xl font-bold\">{title}</CardTitle>","            )}","            {description && (","              <CardDescription className=\"text-sm mt-1\">","                {description}","              </CardDescription>","            )}","          </CardHeader>","        )}","        <CardContent>","          <ResponsiveContainer width=\"100%\" height={height}>","            <RechartsBarChart","              data={funnelData}","              layout=\"vertical\"","              margin={{ top: 5, right: 30, left: 0, bottom: 5 }}","            >","              <defs>","                <linearGradient","                  id=\"funnelGradient\"","                  x1=\"0\"","                  y1=\"0\"","                  x2=\"1\"","                  y2=\"0\"","                >","                  <stop","                    offset=\"0%\"","                    stopColor={modulePrimary || '#8884d8'}","                    stopOpacity={0.9}","                  />","                  <stop","                    offset=\"100%\"","                    stopColor={modulePrimary || '#8884d8'}","                    stopOpacity={0.5}","                  />","                </linearGradient>","              </defs>","              <XAxis type=\"number\" hide />","              <YAxis","                dataKey=\"name\"","                type=\"category\"","                stroke=\"#6b7280\"","                fontSize={12}","                tickLine={false}","                axisLine={false}","              />","              <Tooltip","                contentStyle={{","                  backgroundColor: 'white',","                  border: '1px solid #e5e7eb',","                  borderRadius: '12px',","                  boxShadow: '0 4px 16px rgba(0, 0, 0, 0.1)',","                  padding: '12px',","                }}","                formatter={(value: number) => [value.toLocaleString('pt-BR'), 'Quantidade']}","              />","              <Bar","                dataKey=\"value\"","                fill={modulePrimary || '#8884d8'}","                radius={[0, 12, 12, 0]}","                animationDuration={1000}","              >","                {funnelData.map((entry, index) => {","                  const opacity = 0.9 - (index * 0.15)","                  const color = modulePrimary || '#8884d8'","                  return (","                    <Cell","                      key={`cell-${index}`}","                      fill={color}","                      fillOpacity={opacity}","                    />","                  )","                })}","              </Bar>","            </RechartsBarChart>","          </ResponsiveContainer>","        </CardContent>","      </Card>","    </motion.div>","  )","}","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000012,1000013,1000014,1000001,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000001,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000001,1000036,1000037,1000038,1000039,1000040,1000041,1000001,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1000049,1000050,1000051,1000052,1000053,1000054,1000055,1000056,1000057,1000058,1000059,1000060,1000061,1000062,1000063,1000059,1000064,1000052,1000065,1000066,1000067,1000068,1000069,1000070,1000071,1000072,1000073,1000074,1000075,1000076,1000077,1000078,1000079,1000080,1000081,1000082,1000083,1000084,1000080,1000085,1000082,1000086,1000084,1000087,1000088,1000089,1000090,1000091,1000092,1000093,1000094,1000095,1000096,1000097,1000098,1000099,1000100,1000101,1000102,1000103,1000104,1000105,1000106,1000097,1000107,1000108,1000109,1000110,1000111,1000112,1000113,1000114,1000115,1000116,1000117,1000118,1000119,1000120,1000121,1000122,1000123,1000124,1000125,1000126,1000127,1000128,1000129,1000130,1000025,1000001,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}
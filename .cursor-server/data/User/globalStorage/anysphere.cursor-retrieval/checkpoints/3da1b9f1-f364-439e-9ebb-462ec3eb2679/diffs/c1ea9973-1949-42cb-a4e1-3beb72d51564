{"fsPath":"\\home\\oxetech_mcz\\docs\\README_DASHBOARD.md","fileUuid":"c1ea9973-1949-42cb-a4e1-3beb72d51564","fileSizeBytes":7853,"numLines":348,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":349,"addedLines":["# OxeTech Dashboard - DocumentaÃ§Ã£o Completa","","## ğŸ¯ VisÃ£o Geral","","Dashboard AnalÃ­tico completo e em tempo real para o ecossistema OxeTech (Work, Edu, Trilhas, Lab). Desenvolvido com Next.js 14, TypeScript, Prisma, React Query e Recharts.","","## ğŸ—ï¸ Arquitetura","","### Stack TecnolÃ³gica","","- **Frontend**: Next.js 14 (App Router), React 18, TypeScript","- **EstilizaÃ§Ã£o**: TailwindCSS, shadcn/ui","- **AnimaÃ§Ãµes**: Framer Motion","- **GrÃ¡ficos**: Recharts","- **State Management**: React Query (TanStack Query)","- **ORM**: Prisma","- **Banco de Dados**: PostgreSQL (via tÃºnel SSH)","","### Estrutura de DiretÃ³rios","","```","oxetech-dashboard/","â”œâ”€â”€ app/","â”‚   â”œâ”€â”€ (dashboard)/          # PÃ¡ginas do dashboard","â”‚   â”‚   â”œâ”€â”€ page.tsx          # Home","â”‚   â”‚   â”œâ”€â”€ work/             # OxeTech Work","â”‚   â”‚   â”œâ”€â”€ edu/              # OxeTech Edu","â”‚   â”‚   â”œâ”€â”€ trilhas/          # Trilhas de Conhecimento","â”‚   â”‚   â”œâ”€â”€ lab/              # OxeTech Lab","â”‚   â”‚   â””â”€â”€ alunos/           # Alunos","â”‚   â”œâ”€â”€ api/                  # API Routes","â”‚   â”‚   â”œâ”€â”€ home/route.ts","â”‚   â”‚   â”œâ”€â”€ work/route.ts","â”‚   â”‚   â”œâ”€â”€ edu/route.ts","â”‚   â”‚   â”œâ”€â”€ trilhas/route.ts","â”‚   â”‚   â”œâ”€â”€ lab/route.ts","â”‚   â”‚   â””â”€â”€ alunos/route.ts","â”‚   â”œâ”€â”€ layout.tsx","â”‚   â”œâ”€â”€ providers.tsx","â”‚   â””â”€â”€ globals.css","â”œâ”€â”€ components/","â”‚   â”œâ”€â”€ charts/               # Componentes de grÃ¡ficos","â”‚   â”‚   â”œâ”€â”€ line-chart.tsx","â”‚   â”‚   â”œâ”€â”€ bar-chart.tsx","â”‚   â”‚   â”œâ”€â”€ pie-chart.tsx","â”‚   â”‚   â”œâ”€â”€ area-chart.tsx","â”‚   â”‚   â””â”€â”€ funnel-chart.tsx","â”‚   â”œâ”€â”€ dashboard/            # Componentes do dashboard","â”‚   â”‚   â”œâ”€â”€ sidebar.tsx","â”‚   â”‚   â”œâ”€â”€ header.tsx","â”‚   â”‚   â””â”€â”€ kpi-card.tsx","â”‚   â””â”€â”€ ui/                   # Componentes UI (shadcn/ui)","â”œâ”€â”€ lib/","â”‚   â”œâ”€â”€ db.ts                 # Prisma Client","â”‚   â”œâ”€â”€ formatters.ts         # UtilitÃ¡rios de formataÃ§Ã£o","â”‚   â”œâ”€â”€ design-system.ts      # Design system e paletas","â”‚   â”œâ”€â”€ queries/              # Hooks React Query","â”‚   â”‚   â”œâ”€â”€ home.ts","â”‚   â”‚   â”œâ”€â”€ work.ts","â”‚   â”‚   â”œâ”€â”€ edu.ts","â”‚   â”‚   â”œâ”€â”€ trilhas.ts","â”‚   â”‚   â”œâ”€â”€ lab.ts","â”‚   â”‚   â””â”€â”€ alunos.ts","â”‚   â””â”€â”€ utils.ts              # UtilitÃ¡rios gerais","â””â”€â”€ prisma/","    â””â”€â”€ schema.prisma         # Schema do Prisma","```","","## ğŸ¨ Design System","","### Paletas de Cores por MÃ³dulo","","```typescript","work: {","  primary: '#0A64C2',      // Azul","  secondary: '#2E2A87',    // Roxo escuro","  light: '#3B82F6',","  dark: '#1E40AF',","}","","edu: {","  primary: '#F7A600',      // Amarelo","  secondary: '#FFA83E',    // Laranja claro","  light: '#FCD34D',","  dark: '#D97706',","}","","lab: {","  primary: '#FF6A00',      // Laranja","  secondary: '#B30000',    // Vermelho","  light: '#FB923C',","  dark: '#C2410C',","}","","trilhas: {","  primary: '#C80000',      // Vermelho","  secondary: '#7A0F0F',    // Vinho","  light: '#EF4444',","  dark: '#991B1B',","}","```","","### Tipografia","","- **Corpo**: Inter (300, 400, 500, 600, 700, 800)","- **TÃ­tulos**: Manrope (400, 500, 600, 700, 800)","","### EspaÃ§amento e Bordas","","- **Border Radius**: 22px (premium)","- **Sombras**: soft, medium, large","- **EspaÃ§amento**: Grid com gap-6 (24px)","","### AnimaÃ§Ãµes","","- **Fade In**: 0.5s ease-out","- **Slide In**: 0.4s ease-out","- **Pulse Slow**: 3s ease-in-out infinite","","## ğŸ“Š PÃ¡ginas e Funcionalidades","","### 1. Home (Dashboard Principal)","","**KPIs Principais**:","- Total de Alunos","- Total de Empresas","- MunicÃ­pios Atendidos","- MatrÃ­culas Edu","- InscriÃ§Ãµes Work","- Vagas, Candidaturas, ContrataÃ§Ãµes Work","- Total de Trilhas","- Atividades ConcluÃ­das","- FrequÃªncias Registradas","- Instrutores e Agentes","","**GrÃ¡ficos**:","- EvoluÃ§Ã£o dos Ãšltimos 12 Meses","- DistribuiÃ§Ã£o por Programa","- Funil Work Premium","- EvoluÃ§Ã£o Work","- Top 10 Trilhas Mais ConcluÃ­das","","**Cards de Resumo**:","- Taxa de ConversÃ£o Work","- Alcance Regional","- Engajamento em Trilhas","","### 2. OxeTech Work","","**Funcionalidades**:","- Funil completo por edital","- Vagas por status (Abertas/Encerradas)","- Ranking de empresas (top 20)","- Tempo mÃ©dio entre etapas","- Tabela de vagas com status destacado","","**MÃ©tricas**:","- Total de vagas, empresas, candidaturas, contrataÃ§Ãµes","- Taxa de conversÃ£o","- Tempo mÃ©dio: InscriÃ§Ã£o â†’ Candidatura","- Tempo mÃ©dio: Candidatura â†’ ContrataÃ§Ã£o","","### 3. OxeTech Edu","","**Funcionalidades**:","- FrequÃªncia diÃ¡ria (Ãºltimos 30 dias)","- Ranking de cursos mais procurados","- Mapa de calor por horÃ¡rio","- Comparativo mensal de matrÃ­culas","- Tabela de frequÃªncia por escola","","**MÃ©tricas**:","- Total de escolas, matrÃ­culas, turmas","- MÃ©dia de frequÃªncia geral","- FrequÃªncia por escola (com municÃ­pio)","- DistribuiÃ§Ã£o de matrÃ­culas por status","","### 4. Trilhas de Conhecimento","","**Funcionalidades**:","- Lista completa de trilhas","- Progresso mÃ©dio por trilha","- Top 10 trilhas mais acessadas","- Tabela de inscritos com % concluÃ­do","","**MÃ©tricas**:","- Total de trilhas","- Total de inscritos e concluÃ­dos","- Progresso mÃ©dio geral","- ConclusÃ£o por mÃ³dulo","","### 5. OxeTech Lab","","**Funcionalidades**:","- InscriÃ§Ãµes por laboratÃ³rio","- DistribuiÃ§Ã£o por curso","- EvoluÃ§Ã£o temporal","- Comparativo semanal","","**MÃ©tricas**:","- Total de inscriÃ§Ãµes","- InscriÃ§Ãµes por status","- DistribuiÃ§Ã£o por curso","- EvoluÃ§Ã£o ao longo do tempo","","### 6. Alunos","","**Funcionalidades**:","- Lista completa com paginaÃ§Ã£o","- Filtros avanÃ§ados (curso, trilha, programa, status)","- VisualizaÃ§Ã£o individual","- KPIs individuais","","**InformaÃ§Ãµes**:","- Perfil completo (read-only)","- Trilhas inscritas e concluÃ­das","- Lab inscrito","- MatrÃ­culas Edu","- FrequÃªncia","","## ğŸ”§ API Routes","","### Estrutura PadrÃ£o","","```typescript","export async function GET() {","  try {","    // Queries otimizadas","    const data = await fetchData()","    ","    return NextResponse.json({","      data,","      error: null,","    })","  } catch (error) {","    console.error('Error:', error)","    return NextResponse.json(","      { data: null, error: 'Failed to fetch data' },","      { status: 500 }","    )","  }","}","```","","### Rotas DisponÃ­veis","","- `/api/home` - Dashboard principal","- `/api/work` - Dados OxeTech Work","- `/api/edu` - Dados OxeTech Edu","- `/api/trilhas` - Dados Trilhas","- `/api/lab` - Dados OxeTech Lab","- `/api/alunos` - Lista de alunos","- `/api/alunos/[id]` - Detalhes do aluno","","## ğŸ”„ React Query","","### ConfiguraÃ§Ã£o","","```typescript","const queryClient = new QueryClient({","  defaultOptions: {","    queries: {","      staleTime: 60 * 1000, // 1 minuto","      refetchOnWindowFocus: false,","    },","  },","})","```","","### Hooks DisponÃ­veis","","- `useHomeData()` - Dashboard principal","- `useWorkData()` - OxeTech Work","- `useEduData()` - OxeTech Edu","- `useTrilhasData()` - Trilhas","- `useLabData()` - OxeTech Lab","- `useAlunosData(page, limit)` - Lista de alunos","- `useAlunoData(id)` - Detalhes do aluno","","## ğŸ¯ PrÃ¡ticas e PadrÃµes","","### Componentes","","- Todos os componentes sÃ£o client-side (`'use client'`)","- Uso de framer-motion para animaÃ§Ãµes","- Cores do mÃ³dulo aplicadas automaticamente","- Skeletons durante carregamento","","### FormataÃ§Ã£o","","```typescript","formatNumber(value)      // NÃºmeros formatados","formatPercent(value)     // Percentuais","formatDate(date)         // Datas","formatCurrency(value)    // Moeda","```","","### Performance","","- Queries otimizadas (evitar N+1)","- Cache com React Query","- Lazy loading de componentes","- AnimaÃ§Ãµes otimizadas","","## ğŸš€ Desenvolvimento","","### InstalaÃ§Ã£o","","```bash","npm install","npm run prisma:generate","npm run dev","```","","### VariÃ¡veis de Ambiente","","```env","DATABASE_URL=\"postgresql://readonly:ReadOnly123@127.0.0.1:15432/db_oxe_tech?schema=public\"","```","","### Scripts","","- `npm run dev` - Desenvolvimento","- `npm run build` - Build de produÃ§Ã£o","- `npm run start` - ProduÃ§Ã£o","- `npm run lint` - Linter","- `npm run prisma:generate` - Gerar Prisma Client","- `npm run prisma:introspect` - Atualizar schema","","## ğŸ“ Notas Importantes","","1. **TÃºnel SSH**: O tÃºnel SSH deve estar ativo antes de executar o projeto","2. **Banco Read-Only**: UsuÃ¡rio readonly configurado","3. **Cache**: React Query gerencia cache automaticamente","4. **RevalidaÃ§Ã£o**: Refetch automÃ¡tico a cada 60 segundos","","## ğŸ” SeguranÃ§a","","- Credenciais do banco em variÃ¡veis de ambiente","- ValidaÃ§Ã£o de entrada nas API Routes","- Tratamento de erros padronizado","- Queries com Prisma (proteÃ§Ã£o contra SQL injection)","","---","","**Desenvolvido para o Ecossistema OxeTech** ğŸš€","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000001,1000003,1000001,1000004,1000001,1000005,1000001,1000006,1000007,1000008,1000009,1000010,1000011,1000012,1000001,1000013,1000001,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000040,1000041,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1000049,1000050,1000051,1000052,1000053,1000054,1000055,1000056,1000057,1000058,1000059,1000014,1000001,1000060,1000001,1000061,1000001,1000062,1000063,1000064,1000065,1000066,1000067,1000068,1000001,1000069,1000070,1000071,1000072,1000073,1000068,1000001,1000074,1000075,1000076,1000077,1000078,1000068,1000001,1000079,1000080,1000081,1000082,1000083,1000068,1000014,1000001,1000084,1000001,1000085,1000086,1000001,1000087,1000001,1000088,1000089,1000090,1000001,1000091,1000001,1000092,1000093,1000094,1000001,1000095,1000001,1000096,1000001,1000097,1000098,1000099,1000100,1000101,1000102,1000103,1000104,1000105,1000106,1000107,1000001,1000108,1000109,1000110,1000111,1000112,1000113,1000001,1000114,1000115,1000116,1000117,1000001,1000118,1000001,1000119,1000120,1000121,1000122,1000123,1000124,1000001,1000125,1000126,1000127,1000128,1000129,1000001,1000130,1000001,1000119,1000131,1000132,1000133,1000134,1000135,1000001,1000125,1000136,1000137,1000138,1000139,1000001,1000140,1000001,1000119,1000141,1000142,1000143,1000144,1000001,1000125,1000145,1000146,1000147,1000148,1000001,1000149,1000001,1000119,1000150,1000151,1000152,1000153,1000001,1000125,1000154,1000155,1000151,1000156,1000001,1000157,1000001,1000119,1000158,1000159,1000160,1000161,1000001,1000162,1000163,1000164,1000165,1000101,1000166,1000001,1000167,1000001,1000168,1000001,1000062,1000169,1000170,1000171,1000172,1000173,1000174,1000175,1000176,1000177,1000178,1000179,1000180,1000181,1000182,1000183,1000184,1000068,1000014,1000001,1000185,1000001,1000186,1000187,1000188,1000189,1000190,1000191,1000192,1000001,1000193,1000001,1000194,1000001,1000062,1000195,1000196,1000197,1000198,1000199,1000200,1000201,1000202,1000014,1000001,1000203,1000001,1000204,1000205,1000206,1000207,1000208,1000209,1000210,1000001,1000211,1000001,1000212,1000001,1000213,1000214,1000215,1000216,1000001,1000217,1000001,1000062,1000218,1000219,1000220,1000221,1000014,1000001,1000222,1000001,1000223,1000224,1000225,1000226,1000001,1000227,1000001,1000228,1000001,1000229,1000230,1000231,1000232,1000014,1000001,1000233,1000001,1000234,1000235,1000014,1000001,1000236,1000001,1000237,1000238,1000239,1000240,1000241,1000242,1000001,1000243,1000001,1000244,1000245,1000246,1000247,1000001,1000248,1000001,1000249,1000250,1000251,1000252,1000001,1000253,1000001,1000254,1000001,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}
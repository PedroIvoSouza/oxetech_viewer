{"fsPath":"\\home\\oxetech_mcz\\scripts\\configurar-firewall-gcp.sh","fileUuid":"2cee517a-df3e-4cc0-8f9e-dac6521a1cce","fileSizeBytes":1772,"numLines":47,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":48,"addedLines":["#!/bin/bash","# Script para configurar firewall do Google Cloud para acesso externo ao Next.js","","echo \"üî• Configurando Firewall do Google Cloud para Next.js...\"","echo \"\"","","# Verificar se a regra j√° existe","if gcloud compute firewall-rules describe allow-nextjs-port-3000 &>/dev/null; then","    echo \"‚úÖ Regra de firewall 'allow-nextjs-port-3000' j√° existe.\"","    echo \"   Para atualizar, delete e recrie ou use 'gcloud compute firewall-rules update'\"","    echo \"\"","    gcloud compute firewall-rules describe allow-nextjs-port-3000 --format=\"table(name,allowed[].ports,sourceRanges.list())\"","else","    echo \"üìù Criando regra de firewall 'allow-nextjs-port-3000'...\"","    echo \"\"","    ","    # Criar regra de firewall","    gcloud compute firewall-rules create allow-nextjs-port-3000 \\","        --allow tcp:3000 \\","        --source-ranges 0.0.0.0/0 \\","        --description \"Allow external access to Next.js on port 3000\" \\","        --direction INGRESS \\","        --priority 1000","    ","    if [ $? -eq 0 ]; then","        echo \"\"","        echo \"‚úÖ Regra de firewall criada com sucesso!\"","        echo \"\"","        echo \"üìã Detalhes da regra:\"","        gcloud compute firewall-rules describe allow-nextjs-port-3000 --format=\"table(name,allowed[].ports,sourceRanges.list(),direction,priority)\"","        echo \"\"","        echo \"üåê Agora voc√™ pode acessar via:\"","        IP_PUBLICO=$(curl -s ifconfig.me 2>/dev/null || curl -s icanhazip.com 2>/dev/null || echo \"SEU_IP_PUBLICO\")","        echo \"   http://$IP_PUBLICO:3000\"","        echo \"\"","    else","        echo \"‚ùå Erro ao criar regra de firewall\"","        exit 1","    fi","fi","","echo \"\"","echo \"‚ö†Ô∏è  IMPORTANTE: Verifique se sua inst√¢ncia tem IP p√∫blico configurado\"","echo \"   Para verificar: gcloud compute instances describe NOME_INSTANCIA --zone ZONA | grep natIP\"","echo \"\"","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000002,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000012,1000009,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000013,1000021,1000022,1000023,1000022,1000024,1000025,1000022,1000026,1000027,1000028,1000022,1000029,1000030,1000031,1000032,1000033,1000002,1000004,1000034,1000035,1000004,1000002,1000002]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}